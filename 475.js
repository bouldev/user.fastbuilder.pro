"use strict";(self.webpackChunkwebpages=self.webpackChunkwebpages||[]).push([[475],{1475:(e,n,t)=>{t.r(n),t.d(n,{default:()=>o});var a=t(865),r=t.n(a),i=t(578),s=t(2641);let l={gamenameinputcontent:"",isgamenamesetfailed:!1,monthly_plan_duration:0,slots:[],no_security:!1,helpername:"",helpername_set_error:"",helperuserbtntitle:"",helperloaded:!1,helperRealnameUrl:"",helperCreated:!1,helperDefaultButtonWorking:!1,acceptWorldChat:!1,phoenix_otp:"",phoenix_otp_displayOrdered:!1,changePassword_working:!1,gamename_apply_btn_working:!1,changePassword_inputs:["","",""],binded_mail:null,email_bind_val:"",email_bind_captcha_val:"",email_bind_working:!1,bot_linkCode:"",bot_linkCode_displayOrdered:!1,is_commercial_2022:!1,is_2fa_enabled:!1,is_2fa_in_progress:!1,captchaRand:0,user_points:0,rate_limit_waiving_in_progress:!1,nemcbind_inputs:["",""],nemcbind_status:!1,oninit:async()=>{l.captchaRand=Math.random(),l.is_2fa_in_progress=!1;let e=await s.Z.FetchProfileGeneral();l.is_2fa_enabled=e.is_2fa,l.no_security=e.no_security,l.bot_linkCode=e.blc,l.gamenameinputcontent=e.cn_username,l.user_points=e.points||0,l.nemcbind_status=e.nemcbind_status,l.phoenix_otp=e.phoenix_otp,e.binded_mail?l.binded_mail=e.binded_mail:l.binded_mail=null,r().redraw();let n=await s.Z.GetHelperStatus();l.helpername=n.username,l.helperCreated=n.set,l.helperRealnameUrl=n.realname_addr||"",(n.realname_addr||l.helperCreated||l.helpername||!1===n.set)&&(l.helperloaded=!0),r().redraw()},view:e=>r()(i.ZP.frame,{pageName:"用户信息",pageIcon:'<svg class="sectionTitle-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 448 512"><path d="M313.6 304c-28.7 0-42.5 16-89.6 16-47.1 0-60.8-16-89.6-16C60.2 304 0 364.2 0 438.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-25.6c0-74.2-60.2-134.4-134.4-134.4zM400 464H48v-25.6c0-47.6 38.8-86.4 86.4-86.4 14.6 0 38.3 16 89.6 16 51.7 0 74.9-16 89.6-16 47.6 0 86.4 38.8 86.4 86.4V464zM224 288c79.5 0 144-64.5 144-144S303.5 0 224 0 80 64.5 80 144s64.5 144 144 144zm0-240c52.9 0 96 43.1 96 96s-43.1 96-96 96-96-43.1-96-96 43.1-96 96-96z"></path></svg>'},r()(i.ZP.section,{title:"游戏名"},l.isgamenamesetfailed?r()("p",{style:{color:"red"}},"设置失败"):null,r()(i.ZP.sectionGeneralText,"在此处设置客户端默认游戏名，可以不设置。"),r()(i.ZP.form,r()(i.ZP.formInput,{value:l.gamenameinputcontent,oninput:e=>{l.gamenameinputcontent=e.target.value}},"游戏名")),r()(i.ZP.button,{disabled:l.gamename_apply_btn_working,onclick:e=>{e.preventDefault(),l.gamename_apply_btn_working=!0,async function(){let e=await s.Z.SaveClientUsername(l.gamenameinputcontent);e.success?(l.gamename_apply_btn_working=!1,l.gamenameinputcontent=e.namearray[0],r().redraw()):(l.gamename_apply_btn_working=!1,l.isgamenamesetfailed=!0,r().redraw())}()}},"应用")),r()(i.ZP.section,{title:"限时免费活动"},r()("p",["我们对于前段时间的服务停滞感到抱歉，因此，我们借由策略调整以及服务端更新的同时，决定将 FastBuilder 的所有功能",r()("b","免费开放"),"给各位现存用户，截止至下一个中国版大更新。"]),r()("p",["免费活动期间，已有用户可以",r()("b","不受限制地"),"使用任何功能，您无需再额外充值，或加购任何业务。在此期间为保证服务器平稳运行，新用户注册暂时关闭。"]),r()("p","由于卡槽在此期间不受限制，请避免骚扰其他租赁服，我们不愿意因部分用户行为而影响所有人的名誉。")),r()(i.ZP.section,{title:"fbtoken"},r()(i.ZP.sectionGeneralText,"fbtoken 是 PhoenixBuilder 用于登入至您的 FastBuilder 用户中心账户的凭证。"),r()(i.ZP.sectionGeneralText,"点击下方按钮获取。"),r()(i.ZP.button,{onclick:e=>{location.href=s.Z.GetAPI("get_phoenix_token")}},"获取")),r()(i.ZP.section,{title:"辅助用户"},l.helperloaded?[r()({view:e=>0===l.helpername_set_error.length?null:r()("p",{style:{color:"red"}},l.helpername_set_error)}),r()(i.ZP.sectionGeneralText,["辅助用户是用于进入您的租赁服完成操作的",r()("b","机器人用户"),"。","辅助用户之创建是 PhoenixBuilder 正常工作的必要条件。","当您创建辅助用户后，可能需要刷新页面才可进行网易实名操作。"]),l.helperCreated&&0===l.helperRealnameUrl.length?r()(i.ZP.formInput,{value:l.helpername,oninput:e=>{l.helpername=e.target.value}},"辅助用户名称"):null,0===l.helperRealnameUrl.length?r()(i.ZP.button,{disabled:l.helperDefaultButtonWorking,onclick:e=>{e.preventDefault(),l.helpername_set_error="",l.helperDefaultButtonWorking=!0,async function(){let e=await s.Z.ChangeHelperNameOrCreateHelper(l.helpername);if(!e.success)return e.verify_url&&(await i.ZP.showAlert("网易验证码验证","本次操作需要完成网易验证码验证，点击 OK 后将跳转至验证页面。"),window.open(e.verify_url)),l.helpername_set_error=e.message,l.helperDefaultButtonWorking=!1,void r().redraw();if(l.helperDefaultButtonWorking=!1,e.need_realname){l.helperloaded=!1,r().redraw();let e=await s.Z.GetHelperStatus();l.helpername=e.username,l.helperCreated=e.set,l.helperRealnameUrl=e.realname_addr,l.helperloaded=!0}r().redraw()}()}},l.helperCreated?"更改昵称":"创建辅助用户"):r()(i.ZP.abutton,{href:l.helperRealnameUrl,target:"_blank"},"网易实名认证")]:r()("p","请稍候，正在加载")),l.no_security?null:r()(i.ZP.section,{title:"双重验证"},r()(i.ZP.sectionGeneralText,"双重验证可以防止未经授权的人登入你的账号。双重验证使用密码器生成的一次性密码。"),r()(i.ZP.button,{disabled:l.is_2fa_in_progress,onclick:()=>{l.is_2fa_enabled?(async()=>{if(!await i.ZP.question("关闭二重验证","确认关闭二重验证？",!0))return;l.is_2fa_in_progress=!0,r().redraw();let e=await s.Z.TurnOff2FA();l.is_2fa_in_progress=!1,e.success?(l.is_2fa_enabled=!1,r().redraw()):r().redraw()})():(l.is_2fa_in_progress=!0,(async()=>{let e=await s.Z.Kickstart2FA();if(l.is_2fa_in_progress=!1,!e.success)return i.ZP.showAlert("错误",e.message);let n=await i.ZP.getInput("启用双重验证",[r()("p","请使用 Google Authenticator (或任意密码器) 扫描以下二维码"),r()("div",r()("img",{src:e.qrcode})),r()("p","或者输入这段文字:"),r()("p",r()("b",e.plainkey)),r()("p","完成后，你会看到对应验证码，请将其输入到下方文本框内。")],"验证码",!1,!1);if(!1===n)return;l.is_2fa_in_progress=!0,r().redraw();let t=await s.Z.FinishRegistering2FA(n);if(l.is_2fa_in_progress=!1,!t.success)return i.ZP.showAlert("错误",t.message);l.is_2fa_enabled=!0,await i.ZP.showAlert("成功","您再次登录时将被要求输入验证码。")})())}},l.is_2fa_enabled?"禁用":"启用")),r()(i.ZP.section,{title:"密码"},r()(i.ZP.sectionGeneralText,"更改用户中心的登录密码。"),r()(i.ZP.formInput,{isPassword:!0,value:l.changePassword_inputs[0],oninput:e=>{l.changePassword_inputs[0]=e.target.value}},"原密码"),r()(i.ZP.formInput,{isPassword:!0,value:l.changePassword_inputs[1],oninput:e=>{l.changePassword_inputs[1]=e.target.value}},"新密码"),r()(i.ZP.formInput,{isPassword:!0,value:l.changePassword_inputs[2],oninput:e=>{l.changePassword_inputs[2]=e.target.value}},"确认新密码"),r()(i.ZP.button,{disabled:l.changePassword_working,onclick:e=>{if(e.preventDefault(),l.changePassword_inputs[1]!==l.changePassword_inputs[2])return i.ZP.showAlert("错误","新密码两次输入不一致。");l.changePassword_working=!0,async function(){let e=await s.Z.ChangePassword(l.changePassword_inputs[0],l.changePassword_inputs[1]);if(!e.success)return i.ZP.showAlert("错误",e.message),l.changePassword_working=!1,void r().redraw();l.changePassword_working=!1,r().route.set("/login"),r().redraw()}()}},"更改")),l.no_security?null:r()(i.ZP.section,{title:"PhoenixBuilder 一次性密码"},r()(i.ZP.sectionGeneralText,"这是你用于登录 PhoenixBuilder 的一次性密码，你不能使用用户中心密码登录 PhoenixBuilder 。"),r()(i.ZP.sectionGeneralText,"Token 登录不受此影响。"),r()("p",l.phoenix_otp_displayOrdered?l.phoenix_otp:"***"),r()(i.ZP.button,{onclick:e=>{l.phoenix_otp_displayOrdered=!l.phoenix_otp_displayOrdered}},l.phoenix_otp_displayOrdered?"隐藏密码":"显示密码")),r()(i.ZP.section,{title:"机器人链接口令"},r()(i.ZP.sectionGeneralText,"您可以使用以下链接口令来链接此账号到机器人。请注意：这将给予其对您账号完整的控制权！"),r()("p",l.bot_linkCode_displayOrdered?l.bot_linkCode:r()("b","***")),r()(i.ZP.button,{onclick:e=>{l.bot_linkCode_displayOrdered=!l.bot_linkCode_displayOrdered}},l.bot_linkCode_displayOrdered?"隐藏链接口令":"显示链接口令")),r()(i.ZP.section,{title:"导出账号信息"},r()(i.ZP.sectionGeneralText,"点击下方按钮以导出我们服务器上所有与你有关的信息，这可能要花费数秒时间。"),r()(i.ZP.button,{onclick:()=>{window.open(`https://api.fastbuilder.pro/local/cgi/export_user_data?secret=${s.Z.GetAPISecret()}`)}},"导出")),r()(i.ZP.section,{title:"付款记录"},r()(i.ZP.button,{onclick:e=>{e.preventDefault(),r().route.set("/my-payment-log")}},"查询付款记录")),l.no_security?null:r()(i.ZP.section,{title:"放弃安全措施"},r()(i.ZP.sectionGeneralText,"你拥有放弃用户中心一切安全措施的权利。此操作不可撤回。"),r()(i.ZP.button,{onclick:async()=>{await s.Z.AbandonSecurityMeasures(),l.oninit()}},"放弃")))};const o=l}}]);